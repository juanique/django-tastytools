{% extends "api_doc/base.html" %}
{% load staticlink %}

{% block extra_head %}
    {% staticlink js:tastytools/lib/SyntaxHighlighter/shCore.js %}
    {% staticlink js:tastytools/lib/SyntaxHighlighter/shBrushJScript.js %}

    {% staticlink css:tastytools/lib/SyntaxHighlighter/shCore.css %}
    {% staticlink css:tastytools/lib/SyntaxHighlighter/shThemeDefault %}

    {% staticlink js:tastytools/api.doc %}
    {% staticlink css:tastytools/api.doc %}

    <style type='text/css'>


    </style>

    <script type="text/template" id="resources_btn_template">
        <a href='#' class='myButton btn_<%=resource_name%>'><%= resource_name %></button>
    </script>

    <script type="text/template" id="resource_field_template">
        <li class='resource_field'>
            <h4>
                <%= name %>
                <span class='field_flag flag_nullable'>nullable</span>
                <span class='field_flag flag_readonly'>readonly</span>
                <span class='field_flag flag_blank'>blank</span>
                <span class='field_flag flag_unique'>unique</span>
            </h4>
            <p><%= help_text %></p>

            <table>
                <tr>
                    <th>Type</th>
                    <td><%= type %></td>
                </tr>
                <% if(default_value != "No default provided."){ %>
                    <tr>
                        <th>Default</th>
                        <td><%= default_value %></td>
                    </tr>
                <% } %>
            </table>
        </li>
    </script>

    <script type="text/template" id="resource_template">
        <h2 id='anchor_<%= resource_name %>'><%= resource_name %></h2>
        <table class='resources_table'>
            <tr>
                <th>List URI</th>
                <td><%= list_endpoint %></td>
            <tr>
            <tr>
                <th>Schema URI</th>
                <td><%= schema %></td>
            <tr>
            <tr>
                <th>Default Format</th>
                <td><%= default_format %></td>
            <tr>
            </tr>
                <th>Default Limit</th>
                <td><%= default_limit %></td>
            <tr>
            </tr>
                <th>List Methods</th>
                <td class='methodsBox list_methods'>
                    <span class='method get_method'>GET</span>
                    <span class='method post_method'>POST</span>
                    <span class='method delete_method'>DELETE</span>
                    <span class='method put_method'>PUT</span>
                    <span class='method patch_method'>PATCH</span>
                </td>
            <tr>
            </tr>
                <th>Detail Methods</th>
                <td class='methodsBox detail_methods'>
                    <span class='method get_method'>GET</span>
                    <span class='method post_method'>POST</span>
                    <span class='method delete_method'>DELETE</span>
                    <span class='method put_method'>PUT</span>
                    <span class='method patch_method'>PATCH</span>
                </td>
            </tr>
        </table>

        <h3>Fields</h3>
        <ul class='fields_list'>
        </ul>

        <h3>Example data</h3>
        <% if(obj.POST){ %>
            <h4>POST</h4>
            <pre class="brush: js"><%= POST %></pre>
        <% } %>
        <% if(obj.GET){ %>
            <h4>GET</h4>
            <pre class="brush: js"><%= GET %></pre>
        <% } %>

    </script>
{% endblock %}

{% block content %}
    <div id='resource_list'></div>
{% endblock %}

